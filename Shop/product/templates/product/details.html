{% extends 'base.html' %}

{% load i18n %}

{% load static %}

{% block title %}{% translate 'Product Details' %}{% endblock %}

{% block content %}
    <div class="container-fluid">
        <div class="row mx-2">
            <div class="col-md-4">
                <div class="card p-3 h-100">
                    <img src="{{ product.image.url }}" class="card-img-top mx-auto my-auto" width="400px" height="400px"
                         style="object-fit: scale-down"
                         alt="{{ product.name }}">
                </div>
            </div>
            <div class="col-md-8">
                <div class="card p-5 h-100">
                    <h3>{% translate 'Name' %}: {{ product }}</h3>
                    <hr>
                    <h4>{% translate 'Price' %}:
                        <del class="text-danger "> ${{ product.price_no_discount }}</del>
                        ${{ product.price }}</h4>
                    <hr>
                    <h4>{% translate 'Discount' %}: %{{ product.discount }}</h4>
                    <hr>

                    <div class="row">

                        {% if product.is_available %}
                            <div class="col-md-6">
                                <form action="{% url 'orders:cart_add' product.id %}" method="post"
                                      class="input-group mb-4">
                                    {% csrf_token %}
                                    {{ form }}
                                    <button type="submit" class="btn btn-primary"><i
                                            class="fa-solid fa-cart-plus"></i> {% translate 'Add' %}</button>
                                </form>
                            </div>
                            <div class="col-md-6">
                                {% if product.stock <= 5 %}
                                    <p class="alert alert-danger" style="padding: 8px 25px">
                                        {% translate 'Only 5 items in the stock is remaining' %}
                                    </p>
                                {% endif %}
                            </div>
                        {% else %}
                            <h4 class="text-danger text-center">{% translate 'Sold Out' %}</h4>
                        {% endif %}
                    </div>
                </div>
            </div>

            <div class="col-md-12 mt-4">
                <div class="card h-100">
                    <div class="card-header text-center">
                        <h3 class="text-center">
                            <img src="/static/img/laptop.png" width="45px" height="40px"
                                 alt="icon"> {% translate 'Properties' %}
                        </h3>
                    </div>
                    <div class="card-body p-5">
                        <h3>{{ product }}</h3>
                        <p>{{ product.description }}</p>
                        {% for property in properties %}
                            <hr>
                            <p>{{ property.key }} : {{ property.value }}</p>
                        {% endfor %}
                    </div>
                </div>
            </div>


        </div>
    </div>




{% endblock %}
